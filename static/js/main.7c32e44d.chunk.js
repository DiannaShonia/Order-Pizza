(this["webpackJsonporder-pizza"]=this["webpackJsonporder-pizza"]||[]).push([[0],{197:function(e,t,c){},198:function(e,t,c){},199:function(e,t,c){"use strict";c.r(t);var n=c(1),r=c.n(n),s=c(67),i=c.n(s),a=(c(78),c(2)),j=c(6),o=(c(79),c.p+"static/media/pizza.ac5522f0.png"),u=c(0),l=function(){return Object(u.jsx)("div",{className:"logo",children:Object(u.jsxs)(j.b,{to:"/",style:{textDecoration:"none",display:"flex"},children:[Object(u.jsx)("img",{src:o,alt:""}),Object(u.jsx)("h2",{className:"heading",children:"Order Pizza"})]})})},d=(c(85),c(86),function(e){var t=e.color,c=e.text,n=e.onClick,r=e.type,s=e.className;return Object(u.jsx)("div",{children:Object(u.jsx)("button",{onClick:n,type:r,style:{backgroundColor:t},className:s,children:c})})}),b=c(3),O=r.a.createContext([]),x=function(e){var t=e.children,c=Object(n.useState)([]),r=Object(a.a)(c,2),s=r[0],i=r[1];return Object(u.jsx)(O.Provider,{value:[s,i],children:t})},f=O,h=(c(87),function(){var e=Object(n.useContext)(f),t=Object(a.a)(e,2),c=t[0],r=t[1],s=c.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0);return Object(u.jsxs)("div",{className:"basket-container",children:[Object(u.jsx)("ul",{children:c.map((function(e,t){return Object(u.jsxs)("li",{children:[Object(u.jsxs)("p",{children:[e.title," (",e.quantity,"x)"]}),Object(u.jsxs)("div",{className:"block",children:[Object(u.jsx)("div",{onClick:function(){return function(e){var t=c.map((function(t){return t.id==e.id&&(t.quantity=t.quantity+1),t}));r(t)}(e)},className:"plus",children:"+"}),Object(u.jsx)("div",{onClick:function(){return function(e){var t=c.map((function(t){return t.id==e.id&&t.quantity>1&&(t.quantity=t.quantity-1),t}));r(t)}(e)},className:1===e.quantity?"minus disabled":"minus",children:"-"}),Object(u.jsx)("p",{onClick:function(){return function(e){r(c.filter((function(t){return t.id!==e.id})))}(e)},className:"del",children:"X"})]})]},t)}))}),Object(u.jsxs)("div",{className:"basket-row",children:[Object(u.jsxs)("p",{children:["Total: ",s,"$"]}),Object(u.jsx)(j.b,{to:"/confirm",children:Object(u.jsx)(d,{text:"Order",className:"btn"})})]})]})}),m=function(){var e=Object(n.useContext)(f),t=Object(a.a)(e,1)[0],c=Object(n.useState)(!1),r=Object(a.a)(c,2),s=r[0],i=r[1],o=Object(n.useRef)();Object(n.useEffect)((function(){var e=function(e){o.current.contains(e.target)||i(!1)};return document.addEventListener("mousedown",e),function(){document.removeEventListener("mousedown",e)}}));var l=t.reduce((function(e,t){return e+t.quantity}),0),O=t.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0),x=Object(b.g)(),m="/confirm"==x.pathname||"/success"==x.pathname?"/":"/confirm",p="/order"==x.pathname?"review":"home";return Object(u.jsx)("header",{className:"header",children:Object(u.jsxs)("div",{ref:o,className:"row",children:["/"!=x.pathname?Object(u.jsx)("div",{className:"row1",children:Object(u.jsx)(j.b,{to:m,style:{textDecoration:"none"},children:Object(u.jsxs)("h2",{children:["<"," Back to ",p]})})}):Object(u.jsx)("div",{className:"row1"}),Object(u.jsxs)("div",{className:"row2",children:[Object(u.jsxs)("h2",{ref:o,onClick:function(){return i(!s)},className:"cart",children:["Cart (",l,") |"]}),Object(u.jsxs)("h2",{className:"total",children:["Total: ",O,"$"]}),Object(u.jsx)(j.b,{to:"/confirm",children:Object(u.jsx)(d,{color:"#c28c9c",className:"btn-order",text:"Order"})})]}),s?Object(u.jsx)(h,{}):""]})})},p=(c(88),c(69)),v=c.n(p),N=function(e){var t=e.children,c=Object(n.useState)(!1),r=Object(a.a)(c,2),s=r[0],i=r[1];return Object(n.useEffect)((function(){i(!0),setTimeout((function(){i(!1)}),3e3)}),[]),Object(u.jsxs)("div",{children:[Object(u.jsx)(l,{}),Object(u.jsx)(m,{}),Object(u.jsx)("div",{className:"container",children:s?Object(u.jsx)("div",{className:"loader",children:Object(u.jsx)(v.a,{color:"#000",loading:s,size:70})}):t})]})},y=c(7),C=(c(95),function(e){var t=e.image,c=e.title,n=e.description,r=e.price,s=e.onClick;return Object(u.jsxs)("div",{className:"product-container",children:[Object(u.jsx)("div",{className:"img",children:Object(u.jsx)("img",{src:t})}),Object(u.jsx)("h2",{className:"title",children:c}),Object(u.jsx)("p",{className:"description",children:n}),Object(u.jsxs)("div",{className:"price-row",children:[Object(u.jsxs)("h3",{className:"price",children:[r,"$"]}),Object(u.jsx)(d,{onClick:s,text:"Add To Cart",className:"btn btn-items"})]})]})}),g=(c(96),function(){var e=Object(n.useState)([]),t=Object(a.a)(e,2),c=t[0],r=t[1],s=Object(n.useContext)(f),i=Object(a.a)(s,2),j=i[0],o=i[1];Object(n.useEffect)((function(){fetch("https://6015ccf455dfbd00174ca967.mockapi.io/products?fbclid=IwAR0PE6J6oZWF9fo_JteUAPmybDcCfaRJHdOuMWbCuVgfZbh07hAXIz3b9PA").then((function(e){return e.json()})).then((function(e){return r(e.map((function(e){return e.quantity=1,e})))}))}),[]);return Object(u.jsx)("div",{className:"products",children:c.map((function(e,t){return Object(u.jsx)(C,{product:e,image:e.image,description:e.description,title:e.title,price:e.price,onClick:function(){return function(e){if(j.find((function(t){return t.id==e.id}))){var t=j.map((function(t){return t.id==e.id&&(t.quantity=t.quantity+1),t}));o(t)}else o([].concat(Object(y.a)(j),[e]))}(e)}},t)}))})}),k=c(41),q=c.n(k),w=c(70),z=(c(98),c(17)),S=function(){var e=Object(n.useContext)(f),t=Object(a.a)(e,1)[0],c=Object(n.useState)(!0),r=Object(a.a)(c,2),s=r[0],i=r[1],j=Object(n.useState)(!1),o=Object(a.a)(j,2),l=o[0],O=o[1],x=t.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0),h=z.b().shape({fname:z.c(),lname:z.c(),address:z.c().required(),phone:z.a()}),m=function(){var e=Object(w.a)(q.a.mark((function e(t){var c,n;return q.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),c={address:t.target[2].value},e.next=4,h.isValid(c);case 4:n=e.sent,i(n),O(n);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return l?Object(u.jsx)(b.a,{to:"/success"}):Object(u.jsxs)("div",{className:"confirm",children:[Object(u.jsx)("p",{className:"review",children:"Enter Contact Info"}),Object(u.jsx)("div",{className:"confirm-container",children:Object(u.jsxs)("form",{onSubmit:m,className:"form",children:[Object(u.jsxs)("div",{className:"inputs",children:[Object(u.jsx)("input",{type:"text",placeholder:"First Name"}),Object(u.jsx)("input",{type:"text",placeholder:"Last Name"}),Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{className:s?"":"input-error",type:"text",placeholder:"Address"}),Object(u.jsx)("p",{className:"error",children:s?"":"Address is required"})]}),Object(u.jsx)("input",{type:"text",placeholder:"Phone"})]}),Object(u.jsxs)("div",{className:"confirm-row",children:[Object(u.jsxs)("p",{children:["Total: ",x,"$"]}),Object(u.jsx)(d,{type:"submit",className:"btn",text:"Continue"})]})]})})]})},T=(c(197),function(){var e=Object(n.useContext)(f),t=Object(a.a)(e,2),c=t[0],r=t[1],s=c.map((function(e){return e.quantity*e.price})).reduce((function(e,t){return e+t}),0);return Object(u.jsxs)("div",{className:"confirm",children:[Object(u.jsx)("p",{className:"review",children:"Review Order"}),Object(u.jsxs)("div",{className:"confirm-container",children:[Object(u.jsx)("ul",{className:"products-container",children:c.map((function(e,t){return Object(u.jsxs)("li",{children:[Object(u.jsxs)("p",{children:[e.title," (",e.quantity,"x)"]}),Object(u.jsxs)("div",{className:"block",children:[Object(u.jsxs)("p",{children:[e.quantity*e.price,"$"]}),Object(u.jsx)(d,{onClick:function(){return function(e){r(c.filter((function(t){return t.id!==e.id})))}(e)},text:"Remove",className:"btn"})]})]},t)}))}),Object(u.jsxs)("div",{className:"confirm-row",children:[Object(u.jsxs)("p",{children:["Total: ",s,"$"]}),Object(u.jsx)(j.b,{to:"/order",children:Object(u.jsx)(d,{color:"#c28c9c",text:"Continue",className:"btn-pink"})})]})]})]})}),E=(c(198),function(){return Object(u.jsxs)("div",{className:"success",children:[Object(u.jsx)("img",{src:o}),Object(u.jsx)("p",{children:"Your order successfully placed!"}),Object(u.jsx)(j.b,{to:"/",children:Object(u.jsx)(d,{text:"Back To Home",className:"btn"})})]})});var P=function(){return Object(u.jsx)(j.a,{children:Object(u.jsx)(x,{children:Object(u.jsx)(N,{children:Object(u.jsxs)(b.d,{children:[Object(u.jsx)(b.b,{exact:!0,path:"/",children:Object(u.jsx)(g,{})}),Object(u.jsx)(b.b,{path:"/order",children:Object(u.jsx)(S,{})}),Object(u.jsx)(b.b,{path:"/confirm",children:Object(u.jsx)(T,{})}),Object(u.jsx)(b.b,{path:"/success",children:Object(u.jsx)(E,{})})]})})})})},A=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,201)).then((function(t){var c=t.getCLS,n=t.getFID,r=t.getFCP,s=t.getLCP,i=t.getTTFB;c(e),n(e),r(e),s(e),i(e)}))};i.a.render(Object(u.jsx)(r.a.StrictMode,{children:Object(u.jsx)(P,{})}),document.getElementById("root")),A()},78:function(e,t,c){},79:function(e,t,c){},85:function(e,t,c){},86:function(e,t,c){},87:function(e,t,c){},88:function(e,t,c){},95:function(e,t,c){},96:function(e,t,c){},98:function(e,t,c){}},[[199,1,2]]]);
//# sourceMappingURL=main.7c32e44d.chunk.js.map